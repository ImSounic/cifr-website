@import "tailwindcss";

@custom-variant dark (&.dark);

@theme {
  --color-ink: #151A2C;
  --color-blue: #586AAF;
  --color-blue-light: #7896B6;
  --color-cream: #F4F3EE;
  --color-white: #FFFFFF;
  --color-border: #E2E0D8;
  --color-muted: #9B9A95;
  --color-surface: #ECEAE3;

  --font-display: "Instrument Serif", serif;
  --font-body: "DM Sans", sans-serif;
}

/* Dark mode — override theme color variables */
.dark {
  --color-ink: #E8E7E2;
  --color-cream: #0F1220;
  --color-white: #1A2035;
  --color-surface: #141929;
  --color-border: #2A3050;
  --color-muted: #7A7974;
  --color-blue: #6B7EC4;
  --color-blue-light: #8FAACA;
}

/* Smooth theme transition */
body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ============================================
   KEYFRAME ANIMATIONS
   ============================================ */

@keyframes word-reveal {
  from {
    opacity: 0;
    transform: translateY(20px) skewY(2deg);
  }
  to {
    opacity: 1;
    transform: translateY(0) skewY(0deg);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33%      { transform: translateY(-12px) rotate(0.5deg); }
  66%      { transform: translateY(-6px) rotate(-0.3deg); }
}

/* ============================================
   NOISE TEXTURE OVERLAY
   ============================================ */

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

.dark body::before {
  opacity: 0.02;
}

/* ============================================
   CUSTOM CURSOR
   ============================================ */

.has-custom-cursor,
.has-custom-cursor * {
  cursor: none !important;
}

#cursor-dot {
  width: 8px;
  height: 8px;
  background: var(--color-ink);
  border-radius: 50%;
  position: fixed;
  top: -4px;
  left: -4px;
  pointer-events: none;
  z-index: 10001;
  will-change: transform;
  transition: width 0.3s cubic-bezier(0.22, 1, 0.36, 1),
              height 0.3s cubic-bezier(0.22, 1, 0.36, 1),
              background-color 0.3s ease,
              border 0.3s ease;
}

#cursor-dot.cursor-hover {
  width: 18px;
  height: 18px;
  top: -9px;
  left: -9px;
  background: transparent;
  border: 1.5px solid var(--color-blue);
}

#cursor-glow {
  width: 180px;
  height: 180px;
  position: fixed;
  top: -90px;
  left: -90px;
  pointer-events: none;
  z-index: 10000;
  will-change: transform;
  border-radius: 50%;
  background: radial-gradient(circle, var(--color-blue) 0%, transparent 70%);
  opacity: 0.06;
  transition: opacity 0.4s ease, width 0.4s ease, height 0.4s ease;
}

#cursor-glow.cursor-hover {
  opacity: 0.12;
  width: 220px;
  height: 220px;
  top: -110px;
  left: -110px;
}

/* ============================================
   SCROLL REVEAL — BASE + VARIANTS
   ============================================ */

.scroll-reveal {
  opacity: 0;
  transition: opacity 0.7s ease-out, transform 0.7s ease-out;
  will-change: opacity, transform;
}

.scroll-reveal-up    { transform: translateY(28px); }
.scroll-reveal-left  { transform: translateX(-40px); }
.scroll-reveal-right { transform: translateX(40px); }
.scroll-reveal-scale { transform: scale(0.94); }
.scroll-reveal-fade  { transform: none; }

.scroll-reveal.visible {
  opacity: 1;
  transform: translateY(0) translateX(0) scale(1);
}

/* Stagger children */
.scroll-reveal.visible .stagger-1 { transition-delay: 0.1s; }
.scroll-reveal.visible .stagger-2 { transition-delay: 0.2s; }
.scroll-reveal.visible .stagger-3 { transition-delay: 0.3s; }

/* ============================================
   NAV LINK — ANIMATED UNDERLINE
   ============================================ */

.nav-link {
  position: relative;
  color: var(--color-muted);
  transition: color 0.2s ease;
  text-decoration: none;
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1.5px;
  background: var(--color-blue);
  transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.nav-link:hover {
  color: var(--color-ink);
}

.nav-link:hover::after {
  width: 100%;
}

/* ============================================
   CARD EFFECTS
   ============================================ */

.card-interactive {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
              box-shadow 0.3s ease,
              border-color 0.3s ease;
  will-change: transform;
}

.card-interactive:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 60px -10px rgba(88, 106, 175, 0.18),
              0 8px 20px -4px rgba(88, 106, 175, 0.1);
}

/* Button hover fill sweep */
.btn-fill {
  position: relative;
  overflow: hidden;
  z-index: 0;
}

.btn-fill::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--color-blue);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: -1;
  border-radius: inherit;
}

.btn-fill:hover::before {
  transform: scaleX(1);
}

.btn-outline-fill::before {
  background: var(--color-surface);
}

.btn-outline-fill:hover::before {
  transform: scaleX(1);
}

/* ============================================
   HERO WORD STAGGER
   ============================================ */

.hero-word {
  display: inline-block;
  margin-right: 0.25em;
  opacity: 0;
  animation: word-reveal 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* ============================================
   PHONE MOCKUP FLOAT
   ============================================ */

.animate-float {
  animation: float 6s ease-in-out infinite;
  will-change: transform;
}

/* ============================================
   SMOOTH SCROLLING
   ============================================ */

html {
  scroll-behavior: smooth;
}

/* ============================================
   SELECTION COLOR
   ============================================ */

::selection {
  background-color: #586AAF;
  color: white;
}

/* ============================================
   REDUCED MOTION — ACCESSIBILITY
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .animate-float { animation: none; }
  .hero-word { animation: none; opacity: 1; transform: none; }
  .scroll-reveal { transition-duration: 0.01ms !important; }
  .card-interactive:hover { transform: none; }
  #cursor-dot, #cursor-glow { display: none; }
}
